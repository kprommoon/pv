<!DOCTYPE html>

<html>
<head>
  <title>SME Kit</title>
  <!-- test -->
  <!-- ** CSS ** -->
  <!-- base library -->
  <link rel="stylesheet" type="text/css" href="extjs/ext-all.css" />

  <!-- overrides to base library -->
  <link rel="stylesheet" type="text/css" href="extjs/resources/css/xtheme-gray.css" />
  <link rel="stylesheet" type="text/css" href="extjs/ux/css/Portal.css" />

  <!-- page specific -->
  <link rel="stylesheet" type="text/css" href="css/style.css" />

  <!-- ** Javascript ** -->

  <!-- base library -->
  <script type="text/javascript" src="extjs/core/ext-base.js"></script>
  <script type="text/javascript" src="extjs/core/ext-all-debug.js"></script>

  <!-- extensions -->
  <script type="text/javascript" src="extjs/ux/Portal.js"></script>
  <script type="text/javascript" src="extjs/ux/PortalColumn.js"></script>
  <script type="text/javascript" src="extjs/ux/Portlet.js"></script>
  <script type="text/javascript" src="extjs/ux/SearchField.js"></script>
  <script type="text/javascript" src="extjs/ux/TabCloseMenu.js"></script>
  <script type="text/javascript" src="extjs/DummyProjectBag.js"></script>
  <script type="text/javascript" src="extjs/MessageBoard.js"></script>

  <!-- page specific -->
  <script type="text/javascript">
Ext.onReady(function(){
    /*!
     * Project Form
     */
    var projectForm = new Ext.FormPanel({
        labelAlign: 'top',
        autoScroll: true,
        frame:true,
        items: [{
            layout:'column',
            items:[{
                columnWidth:.5,
                layout: 'form',
                items: [{
                    xtype:'textfield',
                    fieldLabel: 'Code',
                    name: 'code',
                    anchor:'95%'
                }, {
                    xtype:'textfield',
                    fieldLabel: 'Customer',
                    name: 'customer',
                    anchor:'95%'
                },{
                    xtype: 'htmleditor',
                    fieldLabel: 'Description',
                    name: 'description',
                    anchor: '95%',
    	            enableColors: false,
                    enableAlignments: false,
	                enableFont: false,
	                enableLinks: false,
	                enableFontSize: false,
        	        enableSourceEdit: false,
                    height: 116
                }]
            },{
                columnWidth:.5,
                layout: 'form',
                items: [{
                    xtype:'textfield',
                    fieldLabel: 'Name',
                    name: 'name',
                    anchor:'95%'
                },{
                    xtype:'datefield',
                    fieldLabel: 'Open Date',
                    name: 'open',
                    anchor:'95%',
                    value: getDate()
                },{
                    xtype:'textfield',
                    fieldLabel: 'Owner',
                    name: 'owner',
                    anchor:'95%'
                },{
                    xtype:'textfield',
                    fieldLabel: 'Type',
                    name: 'type',
                    anchor:'95%'
                },{
                    xtype:'datefield',
                    fieldLabel: 'Close Date',
                    name: 'close',
                    anchor:'95%'
                }]
            }]
        },{
            xtype: 'grid',
            title: 'Members',
            autoHeight: true,
            style: 'margin-bottom: 10px',
            columns: [
                {header: "Code", sortable: true},
                {header: "Name", sortable: true, width: 150},
                {header: "Position", sortable: true}
            ],
            store: new Ext.data.Store({
                data: [
                    [
                        "01",
                        "John Doe",
                        "Project Leader"
                    ],[
                        "02",
                        "Jane Doe",
                        "Programmer"
                    ]
                ],
                reader: new Ext.data.ArrayReader({id: 'id'},[
                    'code',
                    'name',
                    'position'
                ])
            }),
            bbar: [{
                text: 'Add Member',
                iconCls: 'add-member'
            },{
                text: 'Delete Member',
                iconCls: 'del-member'
            }]
        }, new Ext.grid.PropertyGrid({
            title: 'Properties',
            autoHeight: true,
            propertyNames: {
                budget: 'Budget',
                expected: 'Expected Finish',
                supplier: 'Supplier'
            },
            source: {
                budget: '',
                expected: '',
                supplier: ''
            },
            bbar: [{
                text: 'Add Property',
                iconCls: 'add-prop'
            },{
                text: 'Delete Property',
                iconCls: 'del-prop'
            }]
        })]
    });

    /*!
     * Used in form
     */
    function getDate() {
        var dt = new Date();
	    var month = dt.getMonth() + 1
	    var day = dt.getDate()
	    var year = dt.getFullYear()
	    return ("" + month + "/" + day + "/" + year)
    }

    /*!
     * Application Tab
     */
    var appTab = new Ext.TabPanel({
        activeTab: 1,
    	plain:true,
        id: 'application-tab',
        defaults: {
            closable: true
        },
        items: [{
            id: 'home',
            closable: false,
            title: 'Home',
            iconCls: 'home',
            tbar: new Ext.Toolbar({
                id: 'home-toolbar',
                items: ['Company Name','-',
                new Ext.app.SearchField({
                    width:240,
                    store: this.searchStore,
                    paramName: 'q',
                }),'->','FirstName LastName','-',
                {
                    text: 'Preference',
                    iconCls: 'preference'
                },'-',{
                    text: 'Logout',
                    iconCls: 'logout'
                }]
            })
        },{
            title: 'Demo Project',
            layout: 'border',
            items: [
                DummyProjectBag,
                {
                    region: 'center',
                    title: 'Demo Project',
                    layout: 'fit',
                    items: [projectForm]
                },
                MessageBoard
            ]
        }],
        plugins: new Ext.ux.TabCloseMenu()
    });

    /*!
     * Viewport
     */
    var viewport = new Ext.Viewport({
        layout: 'fit',
        defaults: {
            autoScroll: true,
            style: 'overflow-x: hidden'
        },
        items: [appTab]
    });
})
  </script>
</head>

<body>
</body>

</html>
